@using SchoolCloudMVC.BO
@model BackendBO
@{
    ViewBag.Title = "Universidades_Administrador";
    Layout = "~/Views/Shared/MasterPageBE.cshtml";
}

<div class="right_col" role="main">
    <div class="">
        <div class="page-title">
            <div class="title_left">
           <h3>Universidades</h3>
            </div>
            <div class="title_right">
                <div class="col-md-5 col-sm-5 col-xs-12 form-group pull-right top_search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search for...">
                        <span class="input-group-btn">
                            <button class="btn btn-default" type="button">Go!</button>
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <div class="clearfix"></div>
        <div class="row">
@*@using (Html.BeginForm("RegistrarUniversidad", "BackEnd", FormMethod.Post, new { enctype = "multipart/form-data" }))
{*@
    @Html.AntiForgeryToken()
    @Html.HiddenFor(x => x.IDusuario)
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                    <div class="x_title">
                        <h2>Catologo de Universidades<small>SchoolCloud</small></h2>
              
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <div class="col-md-3 col-sm-3 col-xs-12 profile_left">
                            <div class="profile_img">
                                <div id="crop-avatar">
                                    <!-- Current avatar -->
                                    <img class="img-responsive avatar-view" id="imgprw" src="~/Picture/ImagenesUsuario/default.png">
                                </div>
                            </div>
                         
                            @*<h3 >Universidades </h3>*@
                            @*<ul class="list-unstyled user_data">
                                <li>
                                    <i class="fa fa-map-marker user-profile-icon"></i> San Francisco, California, USA
                                </li>
                                <li>
                                    <i class="fa fa-briefcase user-profile-icon"></i> Software Engineer
                                </li>
                                <li class="m-top-xs">
                                    <i class="fa fa-external-link user-profile-icon"></i>
                                    <a href="http://www.kimlabs.com/profile/" target="_blank">www.kimlabs.com</a>
                                </li>
                            </ul>*@
                            <h4>Cargar Fotografía</h4>
                            @Html.TextBoxFor(x => x.Fotouniversidad, new { @type = "File", @class = "btn btn-success form-group col-md-12 col-sm-12 col-xs-12", @onchange = "imagepreview(this)" })
                            @*<a class="btn btn-success"><i class="fa fa-edit m-right-xs"></i>Edit Profile</a>*@
                            <br />
                            <!-- start skills -->
                            

                            <!-- end of skills -->
                        </div>
                        <div class="col-md-9 col-sm-9 col-xs-12">

                            <div class="profile_title form-group">
                                <div class="col-md-6">
                                    <h2>Agregar universidad</h2>
                                </div>
                               
                            </div>
                            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
                                Nombre de la Universidad<span class="required"></span>
                            </label>
                            <div class="form-group col-md-9 col-sm-9 col-xs-12">
                                @Html.TextBoxFor(x => x.Nombreuniversidad, new { @class = "form-control col-md-7 col-xs-12", @required = "required", @id = "Materia" })
                            </div>
                          
                            <!-- Formulario de Materias-Carreras-Universidades... -->

                            <!-- Formulario de Materias-Carreras-Universidades... -->

                               
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
                                    Tipo Universidad <span class="required"></span>
                                </label>
                                <div class="form-group col-md-9 col-sm-9 col-xs-12">
                                    <div id="TipoUniverisdad">

                                    </div>
                                </div>
                                <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
                                   Descripción de la universidad<span class="required"></span>
                                </label>
                                <div class="form-group col-md-9 col-sm-9 col-xs-12">
                                    @Html.TextAreaFor(x => x.DescripcionUnivesidad, new { @id = "Turno", @class = "form-control col-md-7 col-xs-12", @required = "required" })
                                </div>
                            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
                                    Teléfono<span class="required"></span>
                            </label>
                            <div class="form-group col-md-9 col-sm-9 col-xs-12">
                                @Html.TextBoxFor(x => x.Telefono, new { @id = "Turno", @class = "form-control col-md-7 col-xs-12", @required = "required" })
                            </div>
                                <div class="form-group">
                                    <div class="col-md-6 col-sm-6 col-xs-12 col-md-offset-3">
                                        <input type="submit" class="btn btn-success" value="Enviar" />
                                    </div>
                                </div>

                            



                            <!-- Tabla del Catlogo -->
                      
                            @*<div id="datatable_filter" class="dataTables_filter">
                                <label>
                                    Search:
                                    <input type="search" id="system-search" class="form-control input-sm" placeholder="Buscar" aria-controls="datatable">
                                </label>
                            </div>
                            <div class="x_content">
                                <p class="text-muted font-13 m-b-30">

                                </p>
                                <div id="TablaMaterias">

                                </div>
                            </div>*@
                        </div>
                         <div class="col-md-3 col-sm-3 col-xs-12">
                             </div>
                        <div class="col-md-9 col-sm-9 col-xs-12">
                            <div class="profile_title form-group">
                                <div class="col-md-6">
                                    <h2>Dirección de la Universidad</h2>
                                </div>

                            </div>
                            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
                                Dirección de la Univeridad<span class="required"></span>
                            </label>
                            <div class="form-group col-md-9 col-sm-9 col-xs-12">
                                @Html.TextBoxFor(x => x.Direccion, new { @class = "form-control col-md-7 col-xs-12", @required = "required" })
                            </div>
                            <label class="control-label col-md-3 col-sm-3 col-xs-12" for="first-name">
                                Especificar la Ubicación<span class="required"></span>
                            </label>
                            <div class="form-group col-md-9 col-sm-9 col-xs-12">
                               <input type="text" class="form-control col-md-7 col-xs-12" id="ubicacion" required="required" text="Mérida Yucatán" />
                            </div>
                            <div class="form-group">
                                <div id="TablaMapa" style="width:100%;height:300px;">
                                </div>
                            </div>
                         
                            <div class="form-group col-md-9 col-sm-9 col-xs-12">
                                @Html.HiddenFor(x => x.Latituf, new { @class = "form-control col-md-7 col-xs-12", @required = "required" })
                            </div>
                     
                            <div class="form-group col-md-9 col-sm-9 col-xs-12">
                                @Html.HiddenFor(x => x.Longitud, new { @class = "form-control col-md-7 col-xs-12", @required = "required" })
                            </div>
                            
                        </div>


                        </div>
                </div>
            </div>
@*}*@
        </div>

    </div>
</div>
<script type="text/javascript">
         (function () {//Función anónima autoejecutable
             $("#TipoUniverisdad").load('/VistasParciales/_TipoUniversidad');
           
         }());



         $('#btnguardar').click(function () {

             var url = "@Url.Action("RegistrarUniversidad", "BackEnd")";
             
             var municipio = $("#municipio").val();
             var idestado = $("#idestado").val();
             var data = { municipio: municipio, idestado: idestado };

             $.post(url, data).done(function (data) {

                 $("#listamun").load('/AlumAjax/Listamun');

             });
         }
         );
</script>
<script>
    $('#TablaMapa').locationpicker({
            radius: 0,
            location: {
                latitude: $('#Latituf').val(),
                longitude: $('#Longitud').val(),
            },
            inputBinding: {
                latitudeInput: $('#Latituf'),
                longitudeInput: $('#Longitud'),
                locationNameInput: $('#ubicacion')


            },
            enableAutocomplete:true

        })


</script>
<script type="text/javascript">
                function imagepreview(input) {
                    var fildr = new FileReader();
                    fildr.onload = function (e) {
                        $('#imgprw').attr('src', e.target.result);
                    }
                    fildr.readAsDataURL(input.files[0]);
                }
</script>
